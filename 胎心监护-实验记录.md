# 胎心监护-实验记录

##batch_size 设置

- batch_size = 1时，随机梯度下降，梯度容易抵消，算法在一定epoches内不收敛
- 随着 batch_size 增大，处理相同数据量的速度越快。
- 随着 batch_size 增大，达到相同精度所需要的 epoch 数量越来越多。
- 由于上述两种因素的矛盾， Batch_Size 增大到**某个**时候，达到**时间上**的最优。
- 由于最终收敛精度会陷入不同的局部极值，因此 Batch_Size 增大到**某些**时候，达到最终收敛**精度上**的最优。
- 一般设为2的倍数，这样每个batch的数据刚好能塞进内存里，便于并行计算
##epoch设置

一个epoch 就是指数据集里所有数据全训练一遍

epoch太大，缺点有两个…一个是过拟合（overfit）另一个是训练时间太长

## Convolution层





## Pooling层

kernel_size：



| 20180327 | filters | k_size  | strides | Activa | p_size | batch_size | epoch | Score  | 备注 |
| -------- | ------- | ------- | ------- | ------ | ------ | ---------- | ----- | ------ | ---- |
| 1        | 3       | (10,20) | (1,2)   | relu   | (4,4)  | 128-时间短 | 10    | 0.6552 |      |
| 2        |         |         | (2,4)   |        |        |            |       | 0.6776 |      |
| 3        |         |         | (4,8)   |        |        |            |       | 0.6790 |      |
| 4        |         |         | (4,8)   |        |        | 256-时间长 |       | 0.6841 |      |
| 5        |         |         |         |        |        | 128        | 20    | 0.6951 |      |
| 6        |         |         |         |        |        | 64         | 10    | 0.6901 |      |
| 7        | 10      |         |         |        |        | 64         |       | 0.6763 |      |
| 8        |         |         |         |        |        | 128        |       | 0.6894 |      |

| 20180328 | filters | kernel_size | strides | activation | pool_size | batch_size | epoch | Score  | 备注 |
| -------- | ------- | ----------- | ------- | ---------- | --------- | ---------- | ----- | ------ | ---- |
| 1        | 3       | (10,20)     | (1,2)   | relu       | (4,4)     | 128-时间短 | 10    | 0.6552 |      |
| 2        |         |             | (2,4)   |            |           |            |       | 0.6776 |      |
| 3        |         |             | (4,8)   |            |           |            |       | 0.6790 |      |
| 4        |         |             | (4,8)   |            |           | 256-时间长 |       | 0.6841 |      |
| 5        |         |             |         |            |           | 128        | 20    | 0.6951 |      |
| 6        |         |             |         |            |           | 64         | 10    | 0.6901 |      |
| 7        | 10      |             |         |            |           | 64         |       | 0.6763 |      |
| 8        |         |             |         |            |           |            |       | 0.6894 |      |
|          |         |             |         |            |           |            |       |        |      |